<!DOCTYPE html>
<html>
<head>
    <title>MindAstro - Moon Profile</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script>
    document.addEventListener("DOMContentLoaded", () => {
        fetch("/static/indian_cities.json")
            .then(res => res.json())
            .then(data => {
                const list = document.getElementById("cities");
                data.forEach(city => {
                    const opt = document.createElement("option");
                    opt.value = `${city.name}, ${city.state}`;
                    list.appendChild(opt);
                });
            });
    });

    function switchLang() {
        const lang = document.getElementById('lang').value;
        const text = {
            en: {
                title: "üåô Welcome to MindAstro",
                sub: "Heal Your Mind Through the Stars",
                dob: "Date of Birth:",
                tob: "Time of Birth:",
                pob: "Place of Birth:",
                btn: "Generate My Moon Profile",
                placeholder: "Search Indian city..."
            },
            hi: {
                title: "üåô ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à MindAstro ‡§Æ‡•á‡§Ç",
                sub: "‡§∏‡§ø‡§§‡§æ‡§∞‡•ã‡§Ç ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§Ö‡§™‡§®‡•á ‡§Æ‡§® ‡§ï‡•ã ‡§†‡•Ä‡§ï ‡§ï‡§∞‡•á‡§Ç",
                dob: "‡§ú‡§®‡•ç‡§Æ ‡§§‡§ø‡§•‡§ø:",
                tob: "‡§ú‡§®‡•ç‡§Æ ‡§ï‡§æ ‡§∏‡§Æ‡§Ø:",
                pob: "‡§ú‡§®‡•ç‡§Æ ‡§∏‡•ç‡§•‡§æ‡§®:",
                btn: "‡§Æ‡•á‡§∞‡§æ ‡§Æ‡•Ç‡§® ‡§™‡•ç‡§∞‡•ã‡§´‡§º‡§æ‡§á‡§≤ ‡§ú‡§®‡§∞‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç",
                placeholder: "‡§≠‡§æ‡§∞‡§§ ‡§ï‡§æ ‡§ï‡•ã‡§à ‡§≠‡•Ä ‡§∂‡§π‡§∞ ‡§ñ‡•ã‡§ú‡•á‡§Ç..."
            }
        };
        const t = text[lang];
        document.getElementById('title').innerText = t.title;
        document.getElementById('subtitle').innerText = t.sub;
        document.getElementById('label-dob').innerText = t.dob;
        document.getElementById('label-tob').innerText = t.tob;
        document.getElementById('label-pob').innerText = t.pob;
        document.getElementById('pob').placeholder = t.placeholder;
        document.getElementById('submit-btn').innerText = t.btn;
    }
    </script>
</head>

<body>
    <div style="position: absolute; top: 10px; right: 20px;">
        <select id="lang" onchange="switchLang()">
            <option value="en">English</option>
            <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
        </select>
    </div>

    <h1>üîÆ Get Your Personal Moon Forecast</h1>
    <p>Enter your birth details to discover your emotional traits.</p>

    <p id="subtitle">Heal Your Mind Through the Stars</p>

    <form method="POST" action="/profile" style="display: flex; flex-direction: column; align-items: center;">
        <label id="label-dob">Date of Birth:</label>
        <input type="date" name="dob" required><br>

        <label id="label-tob">Time of Birth:</label>
        <input type="time" name="tob" required><br>

        <label id="label-pob">Place of Birth:</label>
        <input type="text" id="pob" name="place" list="cities" placeholder="Search Indian city..." autocomplete="off" required>
        <datalist id="cities"></datalist><br>

        <button id="submit-btn" type="submit">‚ú® Reveal My Forecast</button>

    </form>
</body>
</html>
